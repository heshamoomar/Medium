{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///D:/CS/Medium/medium/src/app/user/%5Bid%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/dist/client/components/navigation\";\r\nimport { getKindeServerSession } from \"@kinde-oss/kinde-auth-nextjs/server\";\r\nimport { RegisterLink, LoginLink, LogoutLink } from \"@kinde-oss/kinde-auth-nextjs/components\";\r\nimport OnClickUserName from \"../../components/onClickUserName\";\r\n\r\n\r\n// Get user session info\r\nconst { getUser, isAuthenticated } = getKindeServerSession();\r\nconst user = await getUser();\r\nconst authenticated = await isAuthenticated();\r\nconsole.log(\"User:\", user);\r\nconsole.log(\"Authenticated:\", authenticated);\r\n\r\nexport default async function Page({ params }: { params: { id: string } }) {\r\n  const { id } = await params;\r\n  // --- Fetch User ---\r\n  const fetched_user = await fetch(\r\n    `${process.env.NEXT_PUBLIC_BASE_URL}/api/users/${id}`,\r\n    {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    }\r\n  );\r\n\r\n  if (!fetched_user.ok) {\r\n    console.error(\"Failed to fetch user:\", fetched_user.statusText);\r\n     return notFound();\r\n  }\r\n\r\n\r\n  const user = await fetched_user.json();\r\n  console.log(\"User:\", user);\r\n\r\n  const lastLoginDate = user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : \"N/A\";\r\n  const lastLoginTime = user.lastLogin ? new Date(user.lastLogin).toLocaleTimeString() : \"N/A\";\r\n\r\n  var lastLoginDisplay = user.lastLogin ? `${lastLoginDate} at ${lastLoginTime}` : \"N/A\";\r\n\r\n  var isToday = false;\r\n  if(lastLoginDate === new Date().toLocaleDateString())\r\n    isToday = true;\r\n\r\n    if(isToday){\r\n        lastLoginDisplay = `Today at ${lastLoginTime}`;\r\n    }\r\n\r\n  // --- UI ---\r\n  return (\r\n    <main className=\"max-w-lg mx-auto p-8 bg-white rounded-2xl shadow space-y-6\">\r\n        \r\n        \r\n        \r\n      {/* User Header */}\r\n      <div className=\"flex items-center gap-4 border-b pb-4\">\r\n        {user?.picture ? (\r\n          <img\r\n            src={user.picture}\r\n            alt={user.given_name + ' ' + user.family_name || \"User\"}\r\n            className=\"w-16 h-16 rounded-full object-cover shadow\"\r\n          />\r\n        ) : (\r\n          <span className=\"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-2xl text-gray-400 shadow\">\r\n            ðŸ‘¤\r\n          </span>\r\n        )}\r\n        <div>\r\n          <h1 className=\"text-xl font-semibold\">{user.given_name + ' ' + user.family_name || \"Unnamed User\"}</h1>\r\n          <p className=\"text-gray-500 text-sm\">{user.email || \"No email provided\"}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Extra details */}\r\n      <section className=\"text-gray-700 space-y-2\">\r\n        {user.given_name && <p><strong>First Name:</strong> {user.given_name}</p>}\r\n        {user.family_name && <p><strong>Last Name:</strong> {user.family_name}</p>}\r\n        {user.lastLogin && <p><strong>Last active:</strong> {lastLoginDisplay}</p>}\r\n        {user.createdAt && (\r\n          <p className=\"text-sm text-gray-500\">\r\n            Joined on {new Date(user.createdAt).toLocaleDateString()}\r\n          </p>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;;AAKA,wBAAwB;AACxB,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,GAAG,IAAA,+QAAqB;AAC1D,MAAM,OAAO,MAAM;AACnB,MAAM,gBAAgB,MAAM;AAC5B,QAAQ,GAAG,CAAC,SAAS;AACrB,QAAQ,GAAG,CAAC,kBAAkB;AAEf,eAAe,KAAK,EAAE,MAAM,EAA8B;IACvE,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,qBAAqB;IACrB,MAAM,eAAe,MAAM,MACzB,6DAAoC,WAAW,EAAE,IAAI,EACrD;QACE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;IAChD;IAGF,IAAI,CAAC,aAAa,EAAE,EAAE;QACpB,QAAQ,KAAK,CAAC,yBAAyB,aAAa,UAAU;QAC7D,OAAO,IAAA,8KAAQ;IAClB;IAGA,MAAM,OAAO,MAAM,aAAa,IAAI;IACpC,QAAQ,GAAG,CAAC,SAAS;IAErB,MAAM,gBAAgB,KAAK,SAAS,GAAG,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB,KAAK;IACvF,MAAM,gBAAgB,KAAK,SAAS,GAAG,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB,KAAK;IAEvF,IAAI,mBAAmB,KAAK,SAAS,GAAG,GAAG,cAAc,IAAI,EAAE,eAAe,GAAG;IAEjF,IAAI,UAAU;IACd,IAAG,kBAAkB,IAAI,OAAO,kBAAkB,IAChD,UAAU;IAEV,IAAG,SAAQ;QACP,mBAAmB,CAAC,SAAS,EAAE,eAAe;IAClD;IAEF,aAAa;IACb,qBACE,8OAAC;QAAK,WAAU;;0BAKd,8OAAC;gBAAI,WAAU;;oBACZ,MAAM,wBACL,8OAAC;wBACC,KAAK,KAAK,OAAO;wBACjB,KAAK,KAAK,UAAU,GAAG,MAAM,KAAK,WAAW,IAAI;wBACjD,WAAU;;;;;6CAGZ,8OAAC;wBAAK,WAAU;kCAAoG;;;;;;kCAItH,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAyB,KAAK,UAAU,GAAG,MAAM,KAAK,WAAW,IAAI;;;;;;0CACnF,8OAAC;gCAAE,WAAU;0CAAyB,KAAK,KAAK,IAAI;;;;;;;;;;;;;;;;;;0BAKxD,8OAAC;gBAAQ,WAAU;;oBAChB,KAAK,UAAU,kBAAI,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAoB;4BAAE,KAAK,UAAU;;;;;;;oBACnE,KAAK,WAAW,kBAAI,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAmB;4BAAE,KAAK,WAAW;;;;;;;oBACpE,KAAK,SAAS,kBAAI,8OAAC;;0CAAE,8OAAC;0CAAO;;;;;;4BAAqB;4BAAE;;;;;;;oBACpD,KAAK,SAAS,kBACb,8OAAC;wBAAE,WAAU;;4BAAwB;4BACxB,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;AAMlE","debugId":null}}]
}